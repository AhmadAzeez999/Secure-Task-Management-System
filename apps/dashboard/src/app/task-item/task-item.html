<div
  cdkDrag
  class="mb-2 flex items-center rounded-md shadow-sm transition-colors duration-300 p-2 sm:p-3"
  [class.bg-white]="!isDarkMode"
  [class.bg-gray-700]="isDarkMode"
  [class.hover:bg-indigo-100]="!isDarkMode"
  [class.hover:bg-indigo-900]="isDarkMode"
>
  <div
    cdkDragHandle
    class="mr-2 px-2 sm:px-3 py-2 sm:py-3 rounded cursor-move select-none self-stretch flex items-center justify-center transition-colors duration-300 text-base sm:text-lg"
    [class.bg-indigo-200]="!isDarkMode"
    [class.bg-indigo-600]="isDarkMode"
    [class.text-indigo-800]="!isDarkMode"
    [class.text-indigo-100]="isDarkMode"
    title="Drag me"
  >
    â ¿
  </div>
  <div
    (click)="openModal()"
    class="flex-1 cursor-pointer select-none transition-colors duration-300 text-sm sm:text-base"
    [class.text-gray-900]="!isDarkMode"
    [class.text-gray-100]="isDarkMode"
  >
    {{ task.title }}
  </div>
  <button
    *ngIf="isOwner"
    (click)="deleteTask()"
    class=" px-2 py-1 text-white rounded hover:bg-indigo-100/50 transition-colors duration-200 text-sm sm:text-base"
    title="Delete Task"
  >
    X
  </button>
</div>

<div
  *ngIf="showModal"
  class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 p-4"
>
  <div
    class="p-4 sm:p-6 rounded shadow-lg w-full max-w-sm sm:max-w-md md:max-w-lg transition-colors duration-300"
    [class.bg-white]="!isDarkMode"
    [class.bg-gray-700]="isDarkMode"
  >
    <h2
      class="text-lg sm:text-xl font-bold mb-4 transition-colors duration-300"
      [class.text-gray-900]="!isDarkMode"
      [class.text-gray-100]="isDarkMode"
    >
      {{ task.title }}
    </h2>

    <h3
      class="font-bold transition-colors duration-300 text-sm sm:text-base"
      [class.text-gray-800]="!isDarkMode"
      [class.text-gray-200]="isDarkMode"
    >
      Description:
    </h3>
    <p
      class="mb-2 transition-colors duration-300 text-sm sm:text-base"
      [class.text-gray-700]="!isDarkMode"
      [class.text-gray-300]="isDarkMode"
    >
      {{ task.description }}
    </p>

    <h3
      class="font-bold transition-colors duration-300 text-sm sm:text-base"
      [class.text-gray-800]="!isDarkMode"
      [class.text-gray-200]="isDarkMode"
    >
      Status:
    </h3>
    <p
      class="mb-2 transition-colors duration-300 text-sm sm:text-base"
      [class.text-gray-700]="!isDarkMode"
      [class.text-gray-300]="isDarkMode"
    >
      {{ task.status }}
    </p>

    <h3
      class="font-bold transition-colors duration-300 text-sm sm:text-base"
      [class.text-gray-800]="!isDarkMode"
      [class.text-gray-200]="isDarkMode"
    >
      Posted By:
    </h3>
    <p
      class="mb-2 transition-colors duration-300 text-sm sm:text-base"
      [class.text-gray-700]="!isDarkMode"
      [class.text-gray-300]="isDarkMode"
    >
      {{ task.creator }}
    </p>

    <h3
      class="font-bold transition-colors duration-300 text-sm sm:text-base"
      [class.text-gray-800]="!isDarkMode"
      [class.text-gray-200]="isDarkMode"
    >
      Assigned To:
    </h3>
    <p
      class="mb-2 transition-colors duration-300 text-sm sm:text-base"
      [class.text-gray-700]="!isDarkMode"
      [class.text-gray-300]="isDarkMode"
    >
      {{ task.assignee }}
    </p>

    <div class="flex justify-end mt-4">
      <button
        (click)="closeModal()"
        class="px-3 sm:px-4 py-2 bg-indigo-500 text-white rounded hover:bg-indigo-600 transition-colors duration-200 text-sm sm:text-base"
      >
        Close
      </button>
    </div>
  </div>
</div>
